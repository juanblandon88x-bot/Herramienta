<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herramienta Prueba</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Agbalumo&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="app-screen">
        <div class="card welcome-card">
            <h2 class="welcome-title">Herramienta En Prueba</h2>
            <button id="welcome-continue" class="action-button">Continuar</button>
        </div>
    </div>

    <!-- Bank Management Choice Screen -->
    <div id="bank-choice-screen" class="app-screen hidden">
        <div class="card">
            <h3>¿Deseas Gestionar Bank</h3>
            <div class="button-group">
                <button id="bank-yes" class="choice-button">Sí</button>
                <button id="bank-no" class="choice-button">no</button>
            </div>
        </div>
    </div>

    <!-- Capital Input Screen -->
    <div id="capital-input-screen" class="app-screen hidden">
        <div class="card">
            <h3>Ingrese su capital para invertir</h3>
            <input type="number" id="capital-input" placeholder="Ej: 1000" min="1" step="0.01">
            <button id="start-bank-management" class="action-button">Continuar</button>
        </div>
    </div>

    <!-- Main Application Content (hidden initially) -->
    <div id="app-content" class="hidden">
        <!-- Header removed per request (title container not necessary) -->

        <main id="main-app-layout">
            <section id="chart-section">
                <!-- Wrapper for Chart and Trend Bar -->
                <div id="chart-and-trend-wrapper">
                    <div id="chart-container">
                        <div id="clock" class="chart-clock"></div> <!-- Clock is now here -->
                        <svg id="chart">
                            <g class="grid x-grid"></g> <!-- X-axis grid lines -->
                            <g class="grid y-grid"></g> <!-- Y-axis grid lines -->
                            <g class="fibonacci-group"></g> <!-- Group for Fibonacci elements -->
                        </svg>
                        <div id="mini-chart-container">
                            <svg id="mini-chart"></svg>
                        </div>
                        <div id="signal-overlay-message" class="signal-message"></div> <!-- New div for signal messages -->
                        <div id="session-stats" class="mobile-only"></div> <!-- New div for session counters -->
                    </div>

                    <!-- New Trend Indicator Bar -->
                    <div id="trend-indicator-bar">
                        <div class="trend-section bullish-strength"></div>
                        <div class="trend-section bearish-strength"></div>
                        <div class="trend-label"></div>
                        <div class="trend-marker trend-marker-50"></div>
                        <div class="trend-marker trend-marker-40"></div>
                        <div class="trend-marker trend-marker-60"></div>
                    </div>
                </div>
                
                <div id="buttons-panel">
                    <!-- Moved bank/gestion and view selector here to free header space -->
                    <div id="panel-top-controls" class="panel-top-controls">
                        <div id="view-selector-container">
                            <label for="chart-view-selector" class="sr-only">Seleccionar vista del gráfico</label>
                            <select id="chart-view-selector">
                                <option value="both">Ambos gráficos</option>
                                <option value="main">Gráfico profesional</option>
                                <option value="mini">Gráfico de tendencia</option>
                            </select>
                        </div>
                        <div id="apuesta-info-panel">
                            <div id="current-bank-display" class="info-label">Bank: --</div>
                            <div class="apuesta-labels-row">
                                <div class="apuesta-label" id="apuesta-1">Apuesta 1: --</div>
                                <div class="apuesta-label" id="apuesta-2">Apuesta 2: --</div>
                            </div>
                        </div>
                    </div>
                    <div class="input-buttons-grid" style="display: none;">
                        <button data-value="-5" data-mini-value="-1">1.00 / 1,09</button>
                        <button data-value="-4" data-mini-value="-1">1.10 / 1.29</button>
                        <button data-value="-3" data-mini-value="-1">1.30 / 1.49</button>
                        <button data-value="-2" data-mini-value="-1">1.50 / 1.79</button>
                        <button data-value="-1" data-mini-value="-1">1.80 / 1.99</button>
                    
                        <button data-value="1" data-mini-value="1">2.00 / 3.99</button>
                        <button data-value="2" data-mini-value="1">4.00 / 5.99</button>
                        <button data-value="3" data-mini-value="1">6.00 / 7,99</button>
                        <button data-value="4" data-mini-value="1">8.00 / 9,99</button>
                        <button data-value="5" data-mini-value="1">10+</button>
                    </div>
                    <div class="action-buttons-row">
                        <button id="undo">Retroceder</button>
                        <button data-action="fibonacci">Fibonacci</button>
                        <button data-action="mini-fibonacci">Mini Fibonacci</button>
                        <button id="zoom-in" class="zoom-button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
                            </svg>
                        </button>
                        <button id="zoom-out" class="zoom-button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"/>
                            </svg>
                        </button>
                        <button id="reset">Reiniciar</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
document.addEventListener('keydown', function (e) {
    // Bloquear F12
    if (e.key === 'F12') {
        alert("Acción no permitida"); // Opcional
        window.close();
        return false;
    }

    // Bloquear Ctrl+Shift+I
    if (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === 'i') {
        alert("Acción no permitida");
        window.close();
        return false;
    }

    // Bloquear Ctrl+Shift+J
    if (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === 'j') {
        alert("Acción no permitida");
        window.close();
        return false;
    }

    // Bloquear Ctrl+U (Ver código fuente)
    if (e.ctrlKey && e.key.toLowerCase() === 'u') {
        alert("Acción no permitida");
        window.close();
        return false;
    }
});

// Bloquear click derecho
document.addEventListener('contextmenu', function (e) {
    alert("Click derecho bloqueado");
    e.preventDefault();
});
</script>


    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="mini-chart.js"></script>
    <script src="script.js"></script>
</body>
</html>